<app-header [showNavigation]="true"></app-header>

<ion-content class="page-content" padding>
  <h3>Gestion de mes alliments</h3>

  <ion-list>
    <ion-item-divider color="light">Mes alliments</ion-item-divider>
    <ion-item-sliding *ngFor="let food of _foodService.foods$ | async">
      <ion-item>
        <p>{{food.name}}</p> <p item-right>{{food.dlc.toDateString()}}</p>
      </ion-item>

      <ion-item-options side="right">
        <button ion-button icon-only color="light" (click)="_viewFood(food)">
          <ion-icon name="eye"></ion-icon>
        </button>
        <button ion-button icon-only color="light" (click)="_editFood(food)">
          <ion-icon name="create"></ion-icon>
        </button>
        <button ion-button icon-only color="danger" (click)="_deleteFood(food)">
          <ion-icon name="trash"></ion-icon>
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <button ion-button color="primary" class="btn-fixed-bottom" full (click)="_openModalAddFood()">Ajouter un alliment</button>
</ion-content>


<div id="modal-add-food" *ngIf="_modalAddFoodIsOpen" (click)="_closeModalAddFood()">
  <button ion-button icon-only round color="light" id="btn-add-food-text" class="btn-add-food">
    <ion-icon name="create"></ion-icon>
  </button>
  <button ion-button icon-only round color="light" id="btn-add-food-audio" (click)="_addFoodListening()" class="btn-add-food">
    <ion-icon name="mic"></ion-icon>
  </button>
  <button ion-button icon-only round color="light" id="btn-add-food-scan" class="btn-add-food">
    <ion-icon name="qr-scanner"></ion-icon>
  </button>
</div>
